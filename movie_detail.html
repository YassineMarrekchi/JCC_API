<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Movie Detail</title>
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/font-awesome.min.css" rel="stylesheet">
	<link href="css/global.css" rel="stylesheet">
	<link href="css/index.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
	<script src="js/bootstrap.bundle.min.js"></script>
	<style>
		.navbar-nav .nav-link.active {
			color: black !important;
		}
	</style>
</head>
<body>
	<section id="header">
		<div id="signup-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog">
			  <div class="modal-content">
				<div class="modal-header">
				  <h5 class="modal-title" id="exampleModalLabel">REGISTER</h5>
				  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form class="ps-3 pe-3"  id="signup-form" action="#">
					<div class="mb-3">
					  <label for="firstName" class="form-label">First Name</label>
					  <input class="form-control" type="text" id="firstName" name="firstName" required placeholder="First Name">
					</div>
					<div class="mb-3">
					  <label for="lastName" class="form-label">Last Name</label>
					  <input class="form-control" type="text" id="lastName" name="lastName" required placeholder="Last Name">
					</div>
					<div class="mb-3">
					  <label for="email" class="form-label">Email Address</label>
					  <input class="form-control" type="email" id="email" name="email" required placeholder="info@gmail.com">
					</div>
					<div class="mb-3">
					  <label for="phone" class="form-label">Phone</label>
					  <input class="form-control" type="tel" id="phone" name="phone" required placeholder="Phone Number">
					</div>
					<div class="mb-3 text-center">
					  <button type="submit" class="button_1 d-block" style="background-color: red;">REGISTER</button>
					</div>
				  </form>
				</div>
			  </div>
			</div>
		  </div>
		  
	<nav class="navbar navbar-expand-md navbar-light" id="navbar_sticky">
	  <div class="container-fluid">
		<a class="navbar-brand fs-4 p-0 fw-bold text-white text-uppercase" href="index.html"><img src="img\LOGO.png" alt="Logo" style="width: 70px; height: auto;" /></a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
		  <ul class="navbar-nav mb-0">
			
			<li class="nav-item">
			  <a class="nav-link active" aria-current="page" href="index.html">Home</a>
			</li>
			<li class="nav-item">
			  <a class="nav-link" href="about.html">About </a>
			</li>
			
			<li class="nav-item dropdown">
			  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
				Transport
			  </a>
			  <ul class="dropdown-menu drop_1" aria-labelledby="navbarDropdown">
				<li><a class="dropdown-item" href="transportation_plans.html">Transport Plans</a></li>
				<li><a class="dropdown-item border-0" href="#">Groups Transport Offers</a></li>
			  </ul>
			</li>
			
			<li class="nav-item">
			  <a class="nav-link" href="event.html">JCC</a>
			</li>
			
			<li class="nav-item">
			  <a class="nav-link" href="team.html">team</a>
			</li>
					
			<li class="nav-item">
			  <a class="nav-link" href="contact.html">Contact</a>
			</li>
			
		  </ul>
		  <ul class="navbar-nav mb-0 ms-auto">
			<li class="nav-item ms-3">
			  <a class="nav-link button" href="book_tickets.html" style="background-color: #F5B36C;">Book Ticket</a>
			</li>
			<li class="nav-item ms-3">
				 <a class="nav-link button" data-bs-toggle="modal" data-bs-target="#signup-modal" href="#" style="background-color: black;">REGISTER</a>
			</li>
			<!-- /.modal -->
			
		  </ul>
		</div>
	  </div>
	</nav>
	</section>

<section id="center" class="center_home">
	<div class="container-xl">
		<div class="row">
			<div class="col-md-8">
				<div class="blog_detail">
					<div class="blog_detail_img">
						<img id="movie-wposter" src="" alt="Movie Poster" class="w-100">
					</div>
					<div class="blog_detail_content p-4">
						<h2 id="movie-title" class="text-uppercase"></h2>
						<h6 id="movie-genre" class="text-muted"></h6>
						<p id="movie-description"></p>
						<p><strong>Director:</strong> <span id="movie-director"></span></p>
						<p><strong>Year:</strong> <span id="movie-year"></span></p>
						<p><strong>JCC Edition:</strong> <span id="movie-jcc-edition"></span></p>
						<p><strong>Arabic Title:</strong> <span id="movie-arabic-title"></span></p>
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="blog_detail_sidebar">
					<div class="blog_detail_sidebar_img">
						<img id="movie-lposter" src="" alt="Movie Poster" class="w-100">
					</div>
					<div class="blog_detail_sidebar_content p-4">
						<h4 class="text-uppercase">Related Movies</h4>
						<!-- Related movies will be dynamically generated -->
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<section id="footer" class="p_3">
	<div class="container-xl">
	  <div class="row footer_1">
		<div class="col-md-2">
		 <div class="footer_1i">
		  <h6 class="text-white fw-bold">FILMS GENRE</h6>
		  <hr class="line mb-4">
		  <div class="row footer_1i_small">
		  <!-- Unique genres will be dynamically generated -->
		  </div>
		 </div>
		</div>
		<div class="col-md-4">
		 <div class="footer_1i">
		  <h6 class="text-white fw-bold">PREORDER SNACKS</h6>
		  <hr class="line mb-4">
		  <ul class="mb-0">
		   <!-- Unique snack types will be dynamically generated -->
		  </ul>
		 </div>
		</div>
		<div class="col-md-2">
		   <div class="footer_1i">
			<h6 class="text-white fw-bold">SECURE TRANSPORTATION</h6>
			<hr class="line mb-4">
			<div class="row footer_1i_small">
			<h6 class="col-md-12 col-6"><i class="fa fa-circle me-1 col_red font_10"></i> <a class="text-muted" href="#">Carpool</a></h6>
			<h6 class="mt-2 col-md-12 col-6"><i class="fa fa-circle me-1 col_red font_10"></i> <a class="text-muted" href="#">Cinematdour</a></h6>
			<h6 class="mt-2 col-md-12 col-6"><i class="fa fa-circle me-1 col_red font_10"></i> <a class="text-muted" href="#">Private Bus</a></h6>
			</div>
		   </div>
		  </div>
		<div class="col-md-4">
		 <div class="footer_1i">
		  <h6 class="text-white fw-bold">BOOK YOUR TICKET NOW</h6>
		  <hr class="line mb-4">
		  <h6 class="mb-0 mt-4"><a class="button_1 pt-3 pb-3" href="#" style="background-color: red;">Book <i class="fa fa-check-circle ms-1"></i> </a></h6>
		 </div>
		</div>
	  </div>
	</div>
   </section>
   
   <section id="footer_b" class="pt-3 pb-3">
	<div class="container-xl">
	  <div class="row footer_b1">
	  <div class="col-md-8">
	   <div class="footer_b1l">
		<p class="mb-0 fs-6 text-muted mt-1">Â© 2024 JeyCC. All rights reserved | Made by Yassine Marrekchi</p>
	   </div>
	  </div>
	  <div class="col-md-4">
	   <div class="footer_b1r text-end">
		 <ul class="social-network social-circle mb-0">
					   <li><a href="#" class="icoRss" title="Rss"><i class="fa fa-rss"></i></a></li>
					   <li><a href="#" class="icoFacebook" title="Facebook"><i class="fa fa-pinterest"></i></a></li>
					   <li><a href="#" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a></li>
					   <li><a href="#" class="icoLinkedin" title="Linkedin"><i class="fa fa-linkedin"></i></a></li>
				   </ul>
	   </div>
	  </div>
	 </div>
	</div>
   </section>

   <script>
	window.onscroll = function() {myFunction()};
	
	var navbar_sticky = document.getElementById("navbar_sticky");
	var sticky = navbar_sticky.offsetTop;
	var navbar_height = document.querySelector('.navbar').offsetHeight;
	
	function myFunction() {
	  if (window.pageYOffset >= sticky + navbar_height) {
		navbar_sticky.classList.add("sticky")
		document.body.style.paddingTop = navbar_height + 'px';
	  } else {
		navbar_sticky.classList.remove("sticky");
		document.body.style.paddingTop = '0'
	  }
	}
	</script>
	<script src="app.js"></script>

<script>
document.addEventListener('DOMContentLoaded', async function() {
	const urlParams = new URLSearchParams(window.location.search);
	const movieId = urlParams.get('id');
	const baseURL = 'http://localhost:3000'; // Ensure this points to your backend server

	if (movieId) {
		try {
			const response = await fetch(`${baseURL}/app/movies/${movieId}`);
			const data = await response.json();

			if (response.ok) {
				document.getElementById('movie-title').textContent = data.movie.title;
				document.getElementById('movie-genre').textContent = data.movie.genre;
				document.getElementById('movie-description').textContent = data.movie.description || 'No description available.';
				document.getElementById('movie-director').textContent = data.movie.director;
				document.getElementById('movie-year').textContent = data.movie.year;
				document.getElementById('movie-jcc-edition').textContent = data.movie.jcc_edition;
				document.getElementById('movie-arabic-title').textContent = data.movie.arabic_title;
				document.getElementById('movie-wposter').src = `img/${encodeURIComponent(data.movie.title.replace(/\s+/g, '_').toLowerCase())}_wposter.jpg`;
				document.getElementById('movie-lposter').src = `img/${encodeURIComponent(data.movie.title.replace(/\s+/g, '_').toLowerCase())}_lposter.jpg`;
			} else {
				console.error('Failed to fetch movie details:', data.error);
			}
		} catch (error) {
			console.error('Error fetching movie details:', error);
		}
	}
});
</script>
</body>
</html>
